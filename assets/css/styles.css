body {
  background: #f6f8fa;
}

footer .container { font-size: 0.9rem; }

@media (max-width: 576px) {
  footer .container { text-align: center; }
}

/* Enhanced styling */
:root{
  --bg: #f6f8fa;
  --card-bg: #ffffff;
  --muted: #6c757d;
  --primary: #0d6efd;
  --accent: #e9f2ff;
  --glass: rgba(255,255,255,0.7);
  --radius: 12px;
  --max-width: 920px;
}

body {
  background: linear-gradient(180deg, var(--bg) 0%, #ffffff 100%);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: #222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optional hero background image. Add the class `hero-bg` to the <body> to enable. */
body.hero-bg {
  background: linear-gradient(180deg, rgba(7, 7, 8, 0.85) 0%, rgba(255,255,255,0.85) 100%), url("../images/hero1.png") center/cover no-repeat fixed;
}

/* Style for prominent paragraph when hero background is enabled */
.hero-lead {
  color: #0f0d0d;
  text-shadow: 0 2px 16px rgba(0,0,0,0.55);
  background: rgba(0,0,0,0.25);
  padding: 0.6rem 0.9rem;
  border-radius: 8px;
  display: inline-block;
  line-height: 1.45;
  max-width: 100%;
}

@media (max-width: 576px) {
  .hero-lead { display: block; padding: 0.5rem; }
}

main.container { max-width: var(--max-width); padding-bottom: 3rem; }

.navbar-brand { font-weight: 600; letter-spacing: 0.2px; }

/* Brand logo styling */
.navbar-brand { display: inline-flex; align-items: center; gap: 0.5rem; }
.navbar-brand .brand-logo svg { width: 36px; height: 36px; display: block; }
.navbar-brand .brand-text { font-weight: 600; color: #fff; }
.navbar-dark .navbar-brand .brand-text { color: #fff; }
.navbar-light .navbar-brand .brand-text { color: #222; }

/* Controls row: keep search, location, refresh, auto-refresh and interval on one line */
.controls-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: nowrap;
  overflow-x: auto;
}
.controls-row .input-wrapper { flex: 1 1 0; min-width: 260px; }
.controls-row .input-group { width: 100%; }
.controls-row .btn { white-space: nowrap; }
.controls-row .form-check { margin: 0; white-space: nowrap; }
.controls-row select { flex: 0 0 auto; }

/* Make certain control labels/buttons use white text for visibility on dark hero */
#loc-btn { color: #fff; }
.form-check-label[for="auto-refresh"],
.form-check-label[for="heatmap-toggle"] {
  color: #fff;
}

/* Small screens: allow wrapping to avoid overflow */
@media (max-width: 420px) {
  .controls-row { flex-wrap: wrap; }
  .controls-row .input-wrapper { min-width: 160px; }
  .controls-row .form-check { width: 100%; }
}

/* Heatmap styles */
#heatmap-container {
  position: relative;
  width: 100%;
  min-height: 220px;
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(230,240,255,0.6), rgba(240,248,255,0.4));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  /* Constrain the heatmap so it doesn't overlap the footer on short pages */
  max-height: calc(100vh - 260px);
}
#heatmap-container canvas {
  display: block;
  width: 100%;
  height: auto;
  max-height: 100%;
}
.heatmap-overlay {
  position: absolute;
  left: 12px;
  bottom: 8px;
  font-size: 0.85rem;
}
.heatmap-switch { display:flex; align-items:center; gap:0.5rem; }

/* Map container */
#map {
  width: 100%;
  height: 360px;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(15,23,42,0.06);
  margin-bottom: 0.75rem;
}

@media (max-width: 576px) {
  #map { height: 240px; }
}

/* Canvas overlay on top of the Leaflet map */
.leaflet-heatmap-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* allow map interactions through the canvas */
}

/* Hero video displayed inside the map container */
#map { position: relative; }
.map-hero {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  opacity: 0.95;
  pointer-events: none;
}

@media (max-width: 576px) {
  .map-hero { opacity: 0.95; }
}

.input-group .form-control {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
  box-shadow: none;
}

.input-group .btn {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

#search-btn { min-width: 90px; }

#weather-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.95));
  border-radius: var(--radius);
  padding: 0.25rem;
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
  transition: transform 180ms ease, box-shadow 180ms ease;
}

#weather-card:hover { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(15,23,42,0.12); }

#weather-card .card-body { padding: 1.25rem 1.5rem; display:flex; gap:1rem; align-items:center; }

#weather-city { font-size: 1.25rem; font-weight: 600; }
#weather-desc { text-transform: capitalize; }
#weather-temp { font-weight: 700; color: var(--primary); }

.weather-right { text-align: right; min-width: 110px; }

#weather-icon { width: 96px; height: 96px; }

.form-check.form-switch { display:flex; align-items:center; gap:0.5rem; }

.alert { margin-bottom: 1rem; }

/* Small-screen tweaks */
@media (max-width: 576px) {
  .input-group .btn { font-size: 0.9rem; }
  #weather-card .card-body { padding: 1rem; flex-direction: column; }
  .weather-right { text-align: center; width:100%; }
}

/* Layout: ensure footer sits at the bottom when page content is short */
html, body { height: auto; }
body { display: flex; flex-direction: column; min-height: 100vh; }
main.container { flex: 1 0 auto; }
footer { margin-top: auto; }

/* Utility */
.muted { color: var(--muted); }

/* 5-day forecast card styles */
.forecast-card {
  background: rgba(255,255,255,0.9);
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(15,23,42,0.06);
  min-width: 120px;
  max-width: 180px;
  text-align: center;
}
.forecast-card img { display: block; margin: 0 auto 6px; }
.forecast-card .small { text-transform: capitalize; }

/* Ensure the inline search response fits within the main container */
#search-response {
  display: block;
  max-width: var(--max-width);
  margin: 0.35rem auto 0;
  text-align: center;
  word-break: break-word;
}

/* Forecast container: keep cards wrapped and centered within main */
#forecast-5day {
  align-items: stretch;
  justify-content: flex-start;
}
@media (max-width: 768px) {
  #forecast-5day { justify-content: center; }
}

/* Sticky navbar styling (applies when nav uses Bootstrap's sticky-top) */
.navbar.sticky-top {
  position: sticky; /* ensure fallback */
  top: 0;
  z-index: 1030;
  box-shadow: 0 4px 12px rgba(15,23,42,0.08);
  backdrop-filter: saturate(120%) blur(4px);
}

/* Prevent page content from being hidden under the sticky nav on small viewports */
main.container { padding-top: 0.75rem; }

/* Make the forecast/hero image responsive: scale to container but cap width */
#site-logo {
  display: block;
  width: 100%;
  max-width: 520px;
  height: auto;
  margin-left: auto;
  margin-right: auto;
}

/* Footer icon styles */
.footer-links a { display: inline-flex; align-items: center; gap: 0.4rem; color: inherit; text-decoration: none; }
.footer-icon { width: 18px; height: 18px; display: inline-block; flex: 0 0 18px; fill: currentColor; }
.footer-links .sep { margin: 0 0.5rem; color: #999; }

